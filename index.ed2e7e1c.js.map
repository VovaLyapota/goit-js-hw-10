{"mappings":"AACA,MAGMA,EAAU,CACdC,QAAS,CACP,YAJF,0ECAF,MAAMC,EAAWC,SAASC,cAAc,iBAClCC,EAAqBF,SAASC,cAAc,aAC5CE,EAASH,SAASC,cAAc,WAChCG,EAAQJ,SAASC,cAAc,UA2DrC,SAASI,IACPF,EAAOG,UAAUC,IAAI,Y,CAGvB,SAASC,IACPJ,EAAME,UAAUG,OAAO,Y,CAGzB,SAASC,IACPN,EAAME,UAAUC,IAAI,Y,CAQpBR,EAASO,UAAUC,IAAI,aAzEzBG,IDGSC,MAAM,sCAAuCd,GACjDe,MAAKC,GAAYA,EAASC,SAC1BF,MAAKG,GAAQA,EAAKC,KAAIC,GAAQ,CAACA,EAAKC,GAAID,EAAKE,UCF/CP,MAAKC,IAGJ,OAFAR,IAiEFN,EAASO,UAAUG,OAAO,aAxDHW,EAPEP,OAQzBd,EAASsB,mBACP,YACAD,EACGJ,KAAIM,GAAS,kBAAkBA,EAAM,OAAOA,EAAM,gBAClDC,KAAK,KALZ,IAAyBH,CAPW,IAEjCI,OAAMC,IACLjB,IACAH,GAAY,IAYhBN,EAAS2B,iBAAiB,UAE1B,SAAuBC,GACrB,MAAMC,EAAeD,EAAME,cAAcC,MACzCpB,IA2BAP,EAAOG,UAAUG,OAAO,aAxBxBP,EAAmB6B,UAAY,IDrBRC,ECuBPJ,EDtBTjB,MACL,wDAAwDqB,IACxDnC,GAECe,MAAKC,GAAYA,EAASC,SAC1BF,MAAKG,IAAS,CACbI,KAAMJ,EAAK,GAAGK,OAAO,GAAGD,KACxBc,SAAUlB,EAAK,GAAGmB,IAClBC,YAAapB,EAAK,GAAGK,OAAO,GAAGe,YAC/BC,YAAarB,EAAK,GAAGK,OAAO,GAAGgB,iBCchCxB,MAAKC,IAWV,IAAiCwB,EAV3BhC,IAU2BgC,EARHxB,EAS5BX,EAAmB6B,UAAY,aAAaM,EAAeJ,gCAAgCI,EAAelB,0FAEjFkB,EAAelB,uCACfkB,EAAeF,uEACWE,EAAeD,6BAb7B,IAElCZ,OAAMC,IACLjB,IACAH,GAAY,ID/BlB,IAAyB2B,C","sources":["src/cat-api.js","src/index.js"],"sourcesContent":["export { fetchBreeds, fetchCatByBreed };\nconst USER_API_KEY =\n  'live_YzmPQMTStHqghsOEvCcljVLcg6bShd1PQDhCjwz5bCn90IoZy7dVRtO6JaJKN6Gx';\n\nconst options = {\n  headers: {\n    'x-api-key': USER_API_KEY,\n  },\n};\n\nfunction fetchBreeds() {\n  return fetch('https://api.thecatapi.com/v1/breeds', options)\n    .then(response => response.json())\n    .then(data => data.map(item => [item.id, item.name]));\n}\n\nfunction fetchCatByBreed(breedId) {\n  return fetch(\n    `https://api.thecatapi.com/v1/images/search?breed_ids=${breedId}`,\n    options\n  )\n    .then(response => response.json())\n    .then(data => ({\n      name: data[0].breeds[0].name,\n      photoUrl: data[0].url,\n      description: data[0].breeds[0].description,\n      temperament: data[0].breeds[0].temperament,\n    }));\n}\n","import { fetchBreeds, fetchCatByBreed } from './cat-api';\n\nconst selectEl = document.querySelector('.breed-select');\nconst infoBreedContainer = document.querySelector('.cat-info');\nconst loader = document.querySelector('.loader');\nconst error = document.querySelector('.error');\n\nhideSelect();\nhideError();\n\nfetchBreeds()\n  .then(response => {\n    hideLoader();\n    showSelect();\n    return addfechedBreeds(response);\n  })\n  .catch(error => {\n    showError();\n    hideLoader();\n  });\n\nfunction addfechedBreeds(breeds) {\n  selectEl.insertAdjacentHTML(\n    'beforeend',\n    breeds\n      .map(breed => `<option value=\"${breed[0]}\">${breed[1]}</option>`)\n      .join('')\n  );\n}\n\nselectEl.addEventListener('change', onChangeClick);\n\nfunction onChangeClick(event) {\n  const changedBreed = event.currentTarget.value;\n  hideError();\n  showLoader();\n\n  infoBreedContainer.innerHTML = '';\n\n  fetchCatByBreed(changedBreed)\n    .then(response => {\n      hideLoader();\n\n      paintFetchedBreedMarkup(response);\n    })\n    .catch(error => {\n      showError();\n      hideLoader();\n    });\n}\n\nfunction paintFetchedBreedMarkup(fetchedCatInfo) {\n  infoBreedContainer.innerHTML = `<img src=\"${fetchedCatInfo.photoUrl}\" width=\"700px\" alt=\"${fetchedCatInfo.name}\" class=\"cat_photo\"/>\n    <div class=\"descr_container\">\n    <h1 class=\"cat_name\">${fetchedCatInfo.name}</h1>\n    <p class=\"cat_descr\">${fetchedCatInfo.description}</p>\n    <p class=\"cat_temperament\"><b>Temperament:</b> ${fetchedCatInfo.temperament}</p>\n    </div>`;\n}\n\nfunction showLoader() {\n  loader.classList.remove('is-hidden');\n}\n\nfunction hideLoader() {\n  loader.classList.add('is-hidden');\n}\n\nfunction showError() {\n  error.classList.remove('is-hidden');\n}\n\nfunction hideError() {\n  error.classList.add('is-hidden');\n}\n\nfunction showSelect() {\n  selectEl.classList.remove('is-hidden');\n}\n\nfunction hideSelect() {\n  selectEl.classList.add('is-hidden');\n}\n"],"names":["$6b5f202d1456c0af$var$options","headers","$1f0dc3b9307be026$var$selectEl","document","querySelector","$1f0dc3b9307be026$var$infoBreedContainer","$1f0dc3b9307be026$var$loader","$1f0dc3b9307be026$var$error","$1f0dc3b9307be026$var$hideLoader","classList","add","$1f0dc3b9307be026$var$showError","remove","$1f0dc3b9307be026$var$hideError","fetch","then","response","json","data","map","item","id","name","breeds","insertAdjacentHTML","breed","join","catch","error","addEventListener","event","changedBreed","currentTarget","value","innerHTML","breedId","photoUrl","url","description","temperament","fetchedCatInfo"],"version":3,"file":"index.ed2e7e1c.js.map"}